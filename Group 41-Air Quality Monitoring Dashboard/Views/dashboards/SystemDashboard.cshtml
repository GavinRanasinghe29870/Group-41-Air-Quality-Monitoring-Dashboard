@{
    ViewData["Title"] = "System Administrator Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <link href="~/css/system-dashboard.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/aqi-dashboard.css" />
}

<div class="d-flex sysadmin-wrapper">
    <!-- Sidebar -->
    <div class="sidebar">
        <h2>SysAdmin Panel</h2>
        <a class="nav-link active" onclick="sysadminShowSection('userMgmt', event)">
            <i class="bi bi-people"></i> User Management
        </a>
        <a class="nav-link" onclick="sysadminShowSection('dbStatus', event)">
            <i class="bi bi-hdd-network"></i> DB / Config Status
        </a>
        <a class="nav-link" onclick="sysadminShowSection('security', event)">
            <i class="bi bi-shield-lock"></i> Security Check
        </a>
        <a class="nav-link" onclick="sysadminShowSection('dev', event)">
            <i class="bi bi-code-slash"></i> Developer Tools
        </a>
        <a href="@Url.Action("AQIDashboard", "Dashboards")" class="nav-link">
            <i class="bi bi-map"></i> Public
        </a>


    </div>

    <!-- Main Content -->
    <div class="flex-fill content">
        <h3>Welcome, System Administrator</h3>

        @* Section 1: User Management *@
        <section id="userMgmt" class="section active">
            <h4>User Management</h4>
            <div class="card">
                <div class="card-body">
                    <form class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">Username</label>
                            <input type="text" class="form-control" placeholder="Enter username" />
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" placeholder="Enter email" />
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Role</label>
                            <select class="form-select">
                                <option value="MonitoringAdmin">Monitoring Admin</option>
                                <option value="SystemAdmin">System Admin</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary">Create User</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        @* Section 2: DB/Config Status *@
        <section id="dbStatus" class="section">
            <h4 class="mb-4">Database & Config Status</h4>
            <div class="row row-cols-1 row-cols-md-3 g-4">
                <div class="col">
                    <div class="card h-100 text-center">
                        <div class="card-body">
                            <h5 class="card-title">Database Connection</h5>
                            <span class="badge bg-success fs-6">Connected</span>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card h-100 text-center">
                        <div class="card-body">
                            <h5 class="card-title">Config File Loaded</h5>
                            <span class="badge bg-success fs-6">Yes</span>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card h-100 text-center">
                        <div class="card-body">
                            <h5 class="card-title">API Keys Status</h5>
                            <span class="badge bg-warning text-dark fs-6">Check Required</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        @* Section 3: Security Check *@
        <section id="security" class="section">
            <h4 class="mb-4">Security Check</h4>
            <div class="row row-cols-1 row-cols-md-3 g-4">
                <div class="col">
                    <div class="card text-center h-100">
                        <div class="card-body">
                            <h5 class="card-title">Password Policy</h5>
                            <p class="fs-6"><strong>Strong</strong></p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card text-center h-100">
                        <div class="card-body">
                            <h5 class="card-title">2FA Enabled</h5>
                            <p class="fs-6"><strong>Yes</strong></p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card text-center h-100">
                        <div class="card-body">
                            <h5 class="card-title">Last Login Audit</h5>
                            <p class="fs-6"><strong>1 hour ago</strong></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        @* Section 4: Developer Tools *@
        <section id="dev" class="section">
            <h4 class="mb-4">Developer / Test Tools</h4>
            <div class="card">
                <div class="card-body text-center">
                    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                        <button class="btn btn-outline-primary me-md-2">View Latest AQI Data</button>
                        <button class="btn btn-outline-success me-md-2">Trigger AQI Simulation</button>
                        <button class="btn btn-outline-secondary">View Debug Logs</button>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

@section Scripts {
    <script src="~/js/system-dashboard.js"></script>
}
